{"version":3,"file":"index.umd.js","sources":["../src/themes.ts","../src/styles.ts","../src/navigation.ts","../src/search.ts","../src/loader.ts","../src/router.ts","../src/viewer.ts","../src/factory.ts"],"sourcesContent":["import { Theme } from './types';\n\nexport const defaultTheme: Theme = {\n  name: 'default',\n  colors: {\n    primary: '#3b82f6',\n    secondary: '#10b981',\n    background: '#ffffff',\n    surface: '#f3f4f6',\n    textPrimary: '#111827',\n    textSecondary: '#6b7280',\n    border: '#e5e7eb',\n    codeBackground: '#f3f4f6',\n    link: '#3b82f6',\n    linkHover: '#2563eb',\n    error: '#ef4444',\n    warning: '#f59e0b',\n    success: '#10b981'\n  },\n  fonts: {\n    body: '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, sans-serif',\n    heading: '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, sans-serif',\n    code: '\"Fira Code\", \"Consolas\", \"Monaco\", \"Andale Mono\", \"Ubuntu Mono\", monospace'\n  },\n  spacing: {\n    unit: 8,\n    containerMaxWidth: '1200px',\n    sidebarWidth: '320px'\n  },\n  borderRadius: '0.5rem'\n};\n\nexport const darkTheme: Theme = {\n  name: 'dark',\n  colors: {\n    primary: '#3b82f6',\n    secondary: '#10b981',\n    background: '#0f172a',\n    surface: '#1e293b',\n    textPrimary: '#f1f5f9',\n    textSecondary: '#94a3b8',\n    border: '#334155',\n    codeBackground: '#1a202c',\n    link: '#3b82f6',\n    linkHover: '#60a5fa',\n    error: '#ef4444',\n    warning: '#f59e0b',\n    success: '#10b981'\n  },\n  fonts: defaultTheme.fonts,\n  spacing: defaultTheme.spacing,\n  borderRadius: defaultTheme.borderRadius\n};\n\nexport function createCustomTheme(overrides: Partial<Theme>): Theme {\n  const baseTheme = overrides.name === 'dark' ? darkTheme : defaultTheme;\n  return {\n    ...baseTheme,\n    ...overrides,\n    colors: {\n      ...baseTheme.colors,\n      ...(overrides.colors || {})\n    },\n    fonts: {\n      ...baseTheme.fonts,\n      ...(overrides.fonts || {})\n    },\n    spacing: {\n      ...baseTheme.spacing,\n      ...(overrides.spacing || {})\n    }\n  };\n}","import { Theme, DocumentationConfig } from './types';\n\nexport function generateStyles(theme: Theme, config: DocumentationConfig): string {\n  const { colors, fonts, spacing, borderRadius } = theme;\n  const unit = spacing.unit;\n\n  return `\n    /* Base Styles */\n    .mdv-app {\n      font-family: ${fonts.body};\n      color: ${colors.textPrimary};\n      background-color: ${colors.background};\n      height: 100%;\n      display: flex;\n      flex-direction: column;\n      overflow: hidden;\n    }\n\n    .mdv-app * {\n      box-sizing: border-box;\n    }\n\n    /* Header */\n    .mdv-header {\n      background-color: ${colors.surface};\n      border-bottom: 1px solid ${colors.border};\n      padding: ${unit * 2}px ${unit * 3}px;\n      display: flex;\n      align-items: center;\n      gap: ${unit * 2}px;\n    }\n\n    .mdv-mobile-toggle {\n      display: none;\n      background: none;\n      border: none;\n      font-size: 1.5rem;\n      cursor: pointer;\n      color: ${colors.textPrimary};\n      padding: ${unit}px;\n    }\n\n    .mdv-logo {\n      height: 32px;\n      width: auto;\n    }\n\n    .mdv-title {\n      font-size: 1.5rem;\n      font-weight: 700;\n      color: ${colors.primary};\n      margin: 0;\n    }\n\n    /* Layout */\n    .mdv-layout {\n      display: flex;\n      flex: 1;\n      overflow: hidden;\n    }\n\n    /* Sidebar */\n    .mdv-sidebar {\n      width: ${spacing.sidebarWidth};\n      background-color: ${colors.surface};\n      border-right: 1px solid ${colors.border};\n      display: flex;\n      flex-direction: column;\n      overflow: hidden;\n      transition: transform 0.3s ease;\n    }\n\n    /* Search */\n    .mdv-search {\n      padding: ${unit * 2}px;\n      border-bottom: 1px solid ${colors.border};\n    }\n\n    .mdv-search-input {\n      width: 100%;\n      padding: ${unit * 1.5}px ${unit * 2}px;\n      background-color: ${colors.background};\n      border: 1px solid ${colors.border};\n      border-radius: ${borderRadius};\n      color: ${colors.textPrimary};\n      font-size: 0.875rem;\n      transition: border-color 0.2s;\n    }\n\n    .mdv-search-input:focus {\n      outline: none;\n      border-color: ${colors.primary};\n      box-shadow: 0 0 0 3px ${colors.primary}33;\n    }\n\n    /* Navigation */\n    .mdv-navigation {\n      flex: 1;\n      overflow-y: auto;\n      padding: ${unit}px 0;\n    }\n\n    .mdv-nav-list,\n    .mdv-nav-sublist {\n      list-style: none;\n      margin: 0;\n      padding: 0;\n    }\n\n    .mdv-nav-group {\n      margin-bottom: ${unit}px;\n    }\n\n    .mdv-nav-category {\n      padding: ${unit}px ${unit * 2}px;\n      font-weight: 600;\n      color: ${colors.textSecondary};\n      font-size: 0.875rem;\n      text-transform: uppercase;\n      letter-spacing: 0.05em;\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      cursor: pointer;\n    }\n\n    .mdv-nav-category.collapsible:hover {\n      color: ${colors.textPrimary};\n    }\n\n    .mdv-collapse-icon {\n      transition: transform 0.2s;\n    }\n\n    .mdv-nav-item {\n      margin: ${unit * 0.5}px ${unit}px;\n    }\n\n    .mdv-nav-link {\n      display: block;\n      padding: ${unit * 1.5}px ${unit * 2}px;\n      color: ${colors.textSecondary};\n      text-decoration: none;\n      border-radius: ${borderRadius};\n      transition: all 0.2s;\n    }\n\n    .mdv-nav-link:hover {\n      background-color: ${colors.background};\n      color: ${colors.textPrimary};\n      transform: translateX(4px);\n    }\n\n    .mdv-nav-link.active {\n      background-color: ${colors.primary};\n      color: white;\n    }\n\n    .mdv-nav-title {\n      font-weight: 500;\n      display: block;\n    }\n\n    .mdv-nav-description {\n      font-size: 0.75rem;\n      margin-top: ${unit * 0.5}px;\n      opacity: 0.8;\n    }\n\n    .mdv-nav-tags {\n      display: flex;\n      flex-wrap: wrap;\n      gap: ${unit * 0.5}px;\n      margin-top: ${unit * 0.5}px;\n    }\n\n    .mdv-tag {\n      font-size: 0.625rem;\n      padding: ${unit * 0.25}px ${unit * 0.75}px;\n      background-color: ${colors.primary}22;\n      color: ${colors.primary};\n      border-radius: ${borderRadius};\n    }\n\n    /* Content */\n    .mdv-content {\n      flex: 1;\n      overflow-y: auto;\n      background-color: ${colors.background};\n    }\n\n    .mdv-document {\n      max-width: ${spacing.containerMaxWidth};\n      margin: 0 auto;\n      padding: ${unit * 4}px;\n    }\n\n    .mdv-document-title {\n      font-size: 2.5rem;\n      font-weight: 700;\n      margin-bottom: ${unit * 4}px;\n      color: ${colors.textPrimary};\n      font-family: ${fonts.heading};\n    }\n\n    /* Markdown Content */\n    .mdv-document-content {\n      font-size: 1rem;\n      line-height: 1.7;\n      color: ${colors.textSecondary};\n    }\n\n    .mdv-document-content h1,\n    .mdv-document-content h2,\n    .mdv-document-content h3,\n    .mdv-document-content h4,\n    .mdv-document-content h5,\n    .mdv-document-content h6 {\n      font-family: ${fonts.heading};\n      font-weight: 600;\n      margin-top: ${unit * 3}px;\n      margin-bottom: ${unit * 2}px;\n      color: ${colors.textPrimary};\n    }\n\n    .mdv-document-content h1 { font-size: 2rem; }\n    .mdv-document-content h2 { font-size: 1.5rem; }\n    .mdv-document-content h3 { font-size: 1.25rem; }\n    .mdv-document-content h4 { font-size: 1.125rem; }\n\n    .mdv-document-content p {\n      margin-bottom: ${unit * 2}px;\n    }\n\n    .mdv-document-content a {\n      color: ${colors.link};\n      text-decoration: none;\n      transition: color 0.2s;\n    }\n\n    .mdv-document-content a:hover {\n      color: ${colors.linkHover};\n      text-decoration: underline;\n    }\n\n    .mdv-document-content ul,\n    .mdv-document-content ol {\n      margin-bottom: ${unit * 2}px;\n      padding-left: ${unit * 4}px;\n    }\n\n    .mdv-document-content li {\n      margin-bottom: ${unit}px;\n    }\n\n    .mdv-document-content code {\n      font-family: ${fonts.code};\n      font-size: 0.875em;\n      padding: ${unit * 0.25}px ${unit * 0.75}px;\n      background-color: ${colors.codeBackground};\n      border-radius: ${borderRadius};\n    }\n\n    .mdv-code-block {\n      position: relative;\n      margin-bottom: ${unit * 2}px;\n    }\n\n    .mdv-document-content pre {\n      background-color: ${colors.codeBackground};\n      padding: ${unit * 2}px;\n      border-radius: ${borderRadius};\n      overflow-x: auto;\n      margin: 0;\n    }\n\n    .mdv-document-content pre code {\n      background: none;\n      padding: 0;\n      font-size: 0.875rem;\n      line-height: 1.5;\n    }\n\n    .mdv-copy-button {\n      position: absolute;\n      top: ${unit}px;\n      right: ${unit}px;\n      padding: ${unit * 0.5}px ${unit * 1.5}px;\n      background-color: ${colors.primary};\n      color: white;\n      border: none;\n      border-radius: ${borderRadius};\n      font-size: 0.75rem;\n      cursor: pointer;\n      transition: all 0.2s;\n    }\n\n    .mdv-copy-button:hover {\n      background-color: ${colors.secondary};\n    }\n\n    .mdv-document-content blockquote {\n      border-left: 4px solid ${colors.primary};\n      padding-left: ${unit * 2}px;\n      margin: ${unit * 2}px 0;\n      color: ${colors.textSecondary};\n      font-style: italic;\n    }\n\n    .mdv-document-content table {\n      width: 100%;\n      border-collapse: collapse;\n      margin-bottom: ${unit * 2}px;\n    }\n\n    .mdv-document-content th,\n    .mdv-document-content td {\n      padding: ${unit * 1.5}px;\n      text-align: left;\n      border-bottom: 1px solid ${colors.border};\n    }\n\n    .mdv-document-content th {\n      background-color: ${colors.surface};\n      font-weight: 600;\n      color: ${colors.textPrimary};\n    }\n\n    .mdv-document-content hr {\n      border: none;\n      border-top: 1px solid ${colors.border};\n      margin: ${unit * 4}px 0;\n    }\n\n    /* States */\n    .mdv-loading,\n    .mdv-error,\n    .mdv-welcome {\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      height: 100%;\n      font-size: 1.125rem;\n      color: ${colors.textSecondary};\n    }\n\n    .mdv-error {\n      color: ${colors.error};\n    }\n\n    /* Footer */\n    .mdv-footer {\n      background-color: ${colors.surface};\n      border-top: 1px solid ${colors.border};\n      padding: ${unit * 2}px ${unit * 3}px;\n      text-align: center;\n      color: ${colors.textSecondary};\n      font-size: 0.875rem;\n    }\n\n    /* Responsive */\n    @media (max-width: 768px) {\n      .mdv-mobile-toggle {\n        display: block;\n      }\n\n      .mdv-sidebar {\n        position: fixed;\n        left: 0;\n        top: 0;\n        height: 100vh;\n        z-index: 1000;\n        transform: translateX(-100%);\n        box-shadow: 2px 0 10px rgba(0, 0, 0, 0.1);\n      }\n\n      .mdv-sidebar.open {\n        transform: translateX(0);\n      }\n\n      .mdv-document {\n        padding: ${unit * 2}px;\n      }\n\n      .mdv-document-title {\n        font-size: 2rem;\n      }\n    }\n\n    /* Scrollbar */\n    .mdv-navigation::-webkit-scrollbar,\n    .mdv-content::-webkit-scrollbar {\n      width: 8px;\n    }\n\n    .mdv-navigation::-webkit-scrollbar-track,\n    .mdv-content::-webkit-scrollbar-track {\n      background: ${colors.background};\n    }\n\n    .mdv-navigation::-webkit-scrollbar-thumb,\n    .mdv-content::-webkit-scrollbar-thumb {\n      background: ${colors.border};\n      border-radius: 4px;\n    }\n\n    .mdv-navigation::-webkit-scrollbar-thumb:hover,\n    .mdv-content::-webkit-scrollbar-thumb:hover {\n      background: ${colors.textSecondary};\n    }\n\n    /* Syntax highlighting overrides */\n    .hljs {\n      background: transparent !important;\n      color: ${colors.textPrimary} !important;\n    }\n\n    /* Custom CSS */\n    ${theme.customCSS || ''}\n  `;\n}","import { Document, NavigationOptions } from './types';\n\nexport function createNavigation(\n  documents: Document[],\n  currentDoc: Document | null,\n  options: NavigationOptions\n): string {\n  // Group documents by category if enabled\n  const grouped = options.showCategories \n    ? groupByCategory(documents)\n    : { 'All Documents': documents };\n\n  // Sort documents\n  const sortedGroups = Object.entries(grouped).map(([category, docs]) => ({\n    category,\n    documents: sortDocuments(docs, options.sortBy || 'order')\n  }));\n\n  return `\n    <ul class=\"mdv-nav-list\">\n      ${sortedGroups.map(group => renderGroup(group, currentDoc, options)).join('')}\n    </ul>\n  `;\n}\n\nfunction groupByCategory(documents: Document[]): Record<string, Document[]> {\n  return documents.reduce((acc, doc) => {\n    const category = doc.category || 'Uncategorized';\n    if (!acc[category]) {\n      acc[category] = [];\n    }\n    acc[category].push(doc);\n    return acc;\n  }, {} as Record<string, Document[]>);\n}\n\nfunction sortDocuments(documents: Document[], sortBy: string): Document[] {\n  return [...documents].sort((a, b) => {\n    switch (sortBy) {\n      case 'title':\n        return a.title.localeCompare(b.title);\n      case 'order':\n        return (a.order || 999) - (b.order || 999);\n      default:\n        return 0;\n    }\n  });\n}\n\nfunction renderGroup(\n  group: { category: string; documents: Document[] },\n  currentDoc: Document | null,\n  options: NavigationOptions\n): string {\n  const isCollapsible = options.collapsible && group.documents.length > 1;\n  \n  return `\n    <li class=\"mdv-nav-group\">\n      ${group.category !== 'All Documents' ? `\n        <div class=\"mdv-nav-category ${isCollapsible ? 'collapsible' : ''}\">\n          ${group.category}\n          ${isCollapsible ? '<span class=\"mdv-collapse-icon\">▼</span>' : ''}\n        </div>\n      ` : ''}\n      <ul class=\"mdv-nav-sublist\">\n        ${group.documents.map(doc => renderDocument(doc, currentDoc, options)).join('')}\n      </ul>\n    </li>\n  `;\n}\n\nfunction renderDocument(\n  doc: Document,\n  currentDoc: Document | null,\n  options: NavigationOptions\n): string {\n  const isActive = currentDoc?.id === doc.id;\n  const tags = options.showTags && doc.tags ? renderTags(doc.tags) : '';\n  const description = options.showDescription && doc.description \n    ? `<div class=\"mdv-nav-description\">${doc.description}</div>` \n    : '';\n\n  return `\n    <li class=\"mdv-nav-item\">\n      <a href=\"#${doc.id}\" \n         class=\"mdv-nav-link ${isActive ? 'active' : ''}\"\n         data-doc-id=\"${doc.id}\">\n        <span class=\"mdv-nav-title\">${doc.title}</span>\n        ${description}\n        ${tags}\n      </a>\n    </li>\n  `;\n}\n\nfunction renderTags(tags: string[]): string {\n  return `\n    <div class=\"mdv-nav-tags\">\n      ${tags.map(tag => `<span class=\"mdv-tag\">${tag}</span>`).join('')}\n    </div>\n  `;\n}","import { SearchOptions } from './types';\n\nexport function createSearch(options: SearchOptions): string {\n  return `\n    <div class=\"mdv-search\">\n      <input \n        type=\"text\" \n        class=\"mdv-search-input\" \n        placeholder=\"${options.placeholder || 'Search documentation...'}\"\n        aria-label=\"Search documentation\"\n      />\n      <div class=\"mdv-search-results\"></div>\n    </div>\n  `;\n}","import { Document, DocumentSource } from './types';\n\nexport class DocumentLoader {\n  private source: DocumentSource;\n  private cache: Map<string, string> = new Map();\n\n  constructor(source: DocumentSource) {\n    this.source = source;\n  }\n\n  async loadAll(): Promise<Document[]> {\n    return this.source.documents;\n  }\n\n  async loadDocument(doc: Document): Promise<string> {\n    // Check cache first\n    if (this.cache.has(doc.id)) {\n      return this.cache.get(doc.id)!;\n    }\n\n    let content = '';\n\n    if (doc.content) {\n      // Content provided directly\n      content = doc.content;\n    } else if (doc.file) {\n      // Load from file\n      content = await this.loadFromSource(doc.file);\n    }\n\n    this.cache.set(doc.id, content);\n    return content;\n  }\n\n  private async loadFromSource(path: string): Promise<string> {\n    switch (this.source.type) {\n      case 'local':\n        return this.loadLocal(path);\n      case 'url':\n        return this.loadFromUrl(path);\n      case 'github':\n        return this.loadFromGithub(path);\n      case 'content':\n        // Content should be provided in doc.content\n        return '';\n      default:\n        throw new Error(`Unknown source type: ${this.source.type}`);\n    }\n  }\n\n  private async loadLocal(path: string): Promise<string> {\n    // In a real implementation, this would use fs or a bundler\n    // For browser usage, files need to be bundled or served\n    const fullPath = this.source.basePath ? `${this.source.basePath}/${path}` : path;\n    \n    try {\n      const response = await fetch(fullPath);\n      if (!response.ok) {\n        throw new Error(`Failed to load ${path}: ${response.statusText}`);\n      }\n      return await response.text();\n    } catch (error) {\n      throw new Error(`Failed to load local file ${path}: ${error}`);\n    }\n  }\n\n  private async loadFromUrl(path: string): Promise<string> {\n    const url = this.source.baseUrl ? `${this.source.baseUrl}/${path}` : path;\n    \n    try {\n      const response = await fetch(url, {\n        headers: this.source.headers || {}\n      });\n      \n      if (!response.ok) {\n        throw new Error(`Failed to load ${url}: ${response.statusText}`);\n      }\n      \n      return await response.text();\n    } catch (error) {\n      throw new Error(`Failed to load from URL ${url}: ${error}`);\n    }\n  }\n\n  private async loadFromGithub(path: string): Promise<string> {\n    // Parse GitHub URL format: owner/repo/path\n    const parts = path.split('/');\n    if (parts.length < 3) {\n      throw new Error('Invalid GitHub path format. Expected: owner/repo/path/to/file');\n    }\n\n    const [owner, repo, ...filePath] = parts;\n    const apiUrl = `https://api.github.com/repos/${owner}/${repo}/contents/${filePath.join('/')}`;\n\n    try {\n      const response = await fetch(apiUrl, {\n        headers: {\n          'Accept': 'application/vnd.github.v3+json',\n          ...(this.source.headers || {})\n        }\n      });\n\n      if (!response.ok) {\n        throw new Error(`GitHub API error: ${response.statusText}`);\n      }\n\n      const data = await response.json();\n      \n      // Decode base64 content\n      if (data.content) {\n        return atob(data.content);\n      } else {\n        throw new Error('No content found in GitHub response');\n      }\n    } catch (error) {\n      throw new Error(`Failed to load from GitHub ${path}: ${error}`);\n    }\n  }\n\n  clearCache(): void {\n    this.cache.clear();\n  }\n}","export type RoutingMode = 'hash' | 'memory' | 'none';\n\nexport class Router {\n  private mode: RoutingMode;\n  private onRouteChange: (docId: string) => void;\n  private currentRoute: string = '';\n\n  constructor(mode: RoutingMode, onRouteChange: (docId: string) => void) {\n    this.mode = mode;\n    this.onRouteChange = onRouteChange;\n    \n    if (mode === 'hash') {\n      window.addEventListener('hashchange', this.handleHashChange.bind(this));\n      this.handleHashChange();\n    }\n  }\n\n  private handleHashChange(): void {\n    const hash = window.location.hash.slice(1);\n    if (hash && hash !== this.currentRoute) {\n      this.currentRoute = hash;\n      this.onRouteChange(hash);\n    }\n  }\n\n  setRoute(docId: string): void {\n    this.currentRoute = docId;\n    \n    if (this.mode === 'hash') {\n      window.location.hash = docId;\n    }\n  }\n\n  getCurrentRoute(): string | null {\n    if (this.mode === 'hash') {\n      return window.location.hash.slice(1) || null;\n    }\n    return this.currentRoute || null;\n  }\n\n  destroy(): void {\n    if (this.mode === 'hash') {\n      window.removeEventListener('hashchange', this.handleHashChange.bind(this));\n    }\n  }\n}","import { marked } from 'marked';\nimport { markedHighlight } from 'marked-highlight';\nimport hljs from 'highlight.js';\nimport { \n  DocumentationConfig, \n  Document, \n  ViewerState, \n  Theme,\n  DocumentSource \n} from './types';\nimport { defaultTheme } from './themes';\nimport { generateStyles } from './styles';\nimport { createNavigation } from './navigation';\nimport { createSearch } from './search';\nimport { DocumentLoader } from './loader';\nimport { Router } from './router';\n\nexport class MarkdownDocsViewer {\n  private config: DocumentationConfig;\n  private state: ViewerState;\n  private container: HTMLElement;\n  private loader: DocumentLoader;\n  private router: Router | null = null;\n  private styles: HTMLStyleElement | null = null;\n\n  constructor(config: DocumentationConfig) {\n    this.config = {\n      theme: defaultTheme,\n      search: { enabled: true },\n      navigation: { \n        showCategories: true, \n        showTags: false,\n        collapsible: true,\n        showDescription: true\n      },\n      render: {\n        syntaxHighlighting: true,\n        copyCodeButton: true,\n        linkTarget: '_self'\n      },\n      responsive: true,\n      routing: 'hash',\n      ...config\n    };\n\n    this.state = {\n      currentDocument: null,\n      documents: [],\n      searchQuery: '',\n      searchResults: [],\n      loading: false,\n      error: null,\n      sidebarOpen: false\n    };\n\n    this.container = typeof config.container === 'string' \n      ? document.querySelector(config.container)!\n      : config.container;\n\n    if (!this.container) {\n      throw new Error('Container element not found');\n    }\n\n    this.loader = new DocumentLoader(this.config.source);\n    this.init();\n  }\n\n  private async init(): Promise<void> {\n    try {\n      this.state.loading = true;\n      \n      // Configure marked\n      this.configureMarked();\n      \n      // Apply theme\n      this.applyTheme(this.config.theme!);\n      \n      // Load documents\n      await this.loadDocuments();\n      \n      // Setup routing\n      if (this.config.routing !== 'none') {\n        this.router = new Router(this.config.routing!, (docId) => {\n          this.loadDocument(docId);\n        });\n      }\n      \n      // Render UI\n      this.render();\n      \n      // Load initial document\n      const initialDoc = this.router?.getCurrentRoute() || this.state.documents[0]?.id;\n      if (initialDoc) {\n        await this.loadDocument(initialDoc);\n      }\n      \n      this.state.loading = false;\n    } catch (error) {\n      this.handleError(error as Error);\n    }\n  }\n\n  private configureMarked(): void {\n    if (this.config.render?.syntaxHighlighting) {\n      marked.use(markedHighlight({\n        langPrefix: 'hljs language-',\n        highlight(code, lang) {\n          const language = hljs.getLanguage(lang) ? lang : 'plaintext';\n          return hljs.highlight(code, { language }).value;\n        }\n      }));\n    }\n\n    marked.setOptions({\n      gfm: true,\n      breaks: true\n    });\n  }\n\n  private applyTheme(theme: Theme): void {\n    // Remove existing styles\n    if (this.styles) {\n      this.styles.remove();\n    }\n\n    // Generate and apply new styles\n    this.styles = document.createElement('style');\n    this.styles.textContent = generateStyles(theme, this.config);\n    document.head.appendChild(this.styles);\n  }\n\n  private async loadDocuments(): Promise<void> {\n    const documents = await this.loader.loadAll();\n    this.state.documents = documents;\n  }\n\n  private render(): void {\n    this.container.innerHTML = `\n      <div class=\"mdv-app\">\n        ${this.renderHeader()}\n        <div class=\"mdv-layout\">\n          ${this.renderSidebar()}\n          ${this.renderContent()}\n        </div>\n        ${this.config.footer ? this.renderFooter() : ''}\n      </div>\n    `;\n\n    this.attachEventListeners();\n  }\n\n  private renderHeader(): string {\n    return `\n      <header class=\"mdv-header\">\n        <button class=\"mdv-mobile-toggle\" aria-label=\"Toggle navigation\">☰</button>\n        ${this.config.logo ? `<img src=\"${this.config.logo}\" alt=\"Logo\" class=\"mdv-logo\">` : ''}\n        <h1 class=\"mdv-title\">${this.config.title || 'Documentation'}</h1>\n      </header>\n    `;\n  }\n\n  private renderSidebar(): string {\n    const navigation = createNavigation(\n      this.state.documents,\n      this.state.currentDocument,\n      this.config.navigation!\n    );\n\n    const search = this.config.search?.enabled \n      ? createSearch(this.config.search)\n      : '';\n\n    return `\n      <aside class=\"mdv-sidebar ${this.state.sidebarOpen ? 'open' : ''}\">\n        ${search}\n        <nav class=\"mdv-navigation\">\n          ${navigation}\n        </nav>\n      </aside>\n    `;\n  }\n\n  private renderContent(): string {\n    if (this.state.loading) {\n      return '<main class=\"mdv-content\"><div class=\"mdv-loading\">Loading...</div></main>';\n    }\n\n    if (this.state.error) {\n      return `<main class=\"mdv-content\"><div class=\"mdv-error\">${this.state.error.message}</div></main>`;\n    }\n\n    if (!this.state.currentDocument) {\n      return '<main class=\"mdv-content\"><div class=\"mdv-welcome\">Select a document to begin</div></main>';\n    }\n\n    return `\n      <main class=\"mdv-content\">\n        <article class=\"mdv-document\">\n          <h1 class=\"mdv-document-title\">${this.state.currentDocument.title}</h1>\n          <div class=\"mdv-document-content\">\n            ${this.renderMarkdown(this.state.currentDocument.content || '')}\n          </div>\n        </article>\n      </main>\n    `;\n  }\n\n  private renderFooter(): string {\n    return `<footer class=\"mdv-footer\">${this.config.footer}</footer>`;\n  }\n\n  private renderMarkdown(content: string): string {\n    let html = marked(content) as string;\n    \n    // Add copy buttons to code blocks if enabled\n    if (this.config.render?.copyCodeButton) {\n      html = html.replace(/<pre><code/g, '<div class=\"mdv-code-block\"><button class=\"mdv-copy-button\">Copy</button><pre><code');\n      html = html.replace(/<\\/code><\\/pre>/g, '</code></pre></div>');\n    }\n\n    // Apply link target\n    if (this.config.render?.linkTarget === '_blank') {\n      html = html.replace(/<a /g, '<a target=\"_blank\" rel=\"noopener noreferrer\" ');\n    }\n\n    return html;\n  }\n\n  private attachEventListeners(): void {\n    // Mobile toggle\n    const toggle = this.container.querySelector('.mdv-mobile-toggle');\n    toggle?.addEventListener('click', () => {\n      this.state.sidebarOpen = !this.state.sidebarOpen;\n      this.updateSidebar();\n    });\n\n    // Navigation links\n    this.container.querySelectorAll('.mdv-nav-link').forEach(link => {\n      link.addEventListener('click', (e) => {\n        e.preventDefault();\n        const docId = link.getAttribute('data-doc-id');\n        if (docId) {\n          this.loadDocument(docId);\n        }\n      });\n    });\n\n    // Search\n    const searchInput = this.container.querySelector('.mdv-search-input') as HTMLInputElement;\n    searchInput?.addEventListener('input', (e) => {\n      this.handleSearch((e.target as HTMLInputElement).value);\n    });\n\n    // Copy buttons\n    this.container.querySelectorAll('.mdv-copy-button').forEach(button => {\n      button.addEventListener('click', (e) => {\n        const codeBlock = (e.target as HTMLElement).nextElementSibling?.querySelector('code');\n        if (codeBlock) {\n          navigator.clipboard.writeText(codeBlock.textContent || '');\n          button.textContent = 'Copied!';\n          setTimeout(() => {\n            button.textContent = 'Copy';\n          }, 2000);\n        }\n      });\n    });\n  }\n\n  private updateSidebar(): void {\n    const sidebar = this.container.querySelector('.mdv-sidebar');\n    if (sidebar) {\n      sidebar.classList.toggle('open', this.state.sidebarOpen);\n    }\n  }\n\n  private async loadDocument(docId: string): Promise<void> {\n    try {\n      const doc = this.state.documents.find(d => d.id === docId);\n      if (!doc) {\n        throw new Error(`Document ${docId} not found`);\n      }\n\n      this.state.loading = true;\n      this.render();\n\n      // Load content if not already loaded\n      if (!doc.content && doc.file) {\n        doc.content = await this.loader.loadDocument(doc);\n      }\n\n      this.state.currentDocument = doc;\n      this.state.loading = false;\n      \n      if (this.router) {\n        this.router.setRoute(docId);\n      }\n\n      if (this.config.onDocumentLoad) {\n        this.config.onDocumentLoad(doc);\n      }\n\n      this.render();\n      \n      // Scroll to top\n      this.container.querySelector('.mdv-content')?.scrollTo(0, 0);\n      \n      // Close mobile sidebar\n      if (window.innerWidth <= 768) {\n        this.state.sidebarOpen = false;\n        this.updateSidebar();\n      }\n    } catch (error) {\n      this.handleError(error as Error);\n    }\n  }\n\n  private handleSearch(query: string): void {\n    this.state.searchQuery = query;\n    \n    if (!query.trim()) {\n      this.state.searchResults = [];\n      this.render();\n      return;\n    }\n\n    // Simple search implementation\n    const results = this.state.documents.filter(doc => {\n      const searchIn = [\n        doc.title,\n        doc.description || '',\n        doc.content || '',\n        ...(doc.tags || [])\n      ].join(' ').toLowerCase();\n      \n      return searchIn.includes(query.toLowerCase());\n    });\n\n    this.state.searchResults = results.slice(0, this.config.search?.maxResults || 10);\n    this.render();\n  }\n\n  private handleError(error: Error): void {\n    this.state.error = error;\n    this.state.loading = false;\n    \n    if (this.config.onError) {\n      this.config.onError(error);\n    }\n    \n    this.render();\n  }\n\n  public async refresh(): Promise<void> {\n    await this.loadDocuments();\n    this.render();\n  }\n\n  public setTheme(theme: Theme): void {\n    this.config.theme = theme;\n    this.applyTheme(theme);\n  }\n\n  public destroy(): void {\n    if (this.styles) {\n      this.styles.remove();\n    }\n    if (this.router) {\n      this.router.destroy();\n    }\n    this.container.innerHTML = '';\n  }\n}","import { MarkdownDocsViewer } from './viewer';\nimport { DocumentationConfig } from './types';\n\n/**\n * Factory function to create a new documentation viewer instance\n */\nexport function createViewer(config: DocumentationConfig): MarkdownDocsViewer {\n  return new MarkdownDocsViewer(config);\n}\n\n/**\n * Initialize viewer with minimal configuration\n */\nexport function quickStart(container: string | HTMLElement, documents: any[]): MarkdownDocsViewer {\n  return createViewer({\n    container,\n    source: {\n      type: 'content',\n      documents\n    }\n  });\n}"],"names":["defaultTheme","darkTheme","generateStyles","theme","config","colors","fonts","spacing","borderRadius","unit","createNavigation","documents","currentDoc","options","grouped","groupByCategory","category","docs","sortDocuments","group","renderGroup","acc","doc","sortBy","a","b","isCollapsible","renderDocument","isActive","tags","renderTags","description","tag","createSearch","DocumentLoader","source","content","path","fullPath","response","error","url","parts","owner","repo","filePath","apiUrl","data","Router","mode","onRouteChange","hash","docId","MarkdownDocsViewer","initialDoc","_a","_b","marked","markedHighlight","code","lang","language","hljs","navigation","search","html","toggle","link","e","searchInput","button","codeBlock","sidebar","d","query","results","createViewer"],"mappings":"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"}