<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Training Science Documentation</title>
    <style>
        body {
            margin: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }
        #docs {
            height: 100vh;
        }
        .loading {
            display: flex;
            align-items: center;
            justify-content: center;
            height: 100vh;
            font-size: 18px;
            color: #666;
        }
    </style>
</head>
<body>
    <div id="docs">
        <div class="loading">Loading Training Science Documentation...</div>
    </div>
    
    <!-- CDN Dependencies -->
    <script src="https://cdn.jsdelivr.net/npm/marked@12.0.0/marked.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/highlight.js@11.9.0/lib/index.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@11.9.0/styles/github.min.css">
    
    <!-- Our viewer -->
    <script src="./dist/index.umd.js"></script>
    
    <script>
        // Wait for dependencies to load
        window.addEventListener('load', function() {
            const { createViewer } = window.MarkdownDocsViewer;
            
            // Fetch markdown content directly from GitHub raw URLs
            const baseUrl = 'https://raw.githubusercontent.com/AustinOrphan/training-science-docs/main/';
            
            const viewer = createViewer({
                container: '#docs',
                title: 'Training Science Documentation',
                source: {
                    type: 'url',
                    baseUrl: baseUrl,
                    documents: [
                        {
                            id: 'overview',
                            title: 'Project Overview',
                            file: 'README.md',
                            category: 'Introduction',
                            description: 'Project overview and usage instructions',
                            order: 1
                        },
                        {
                            id: 'whitepaper',
                            title: 'Training System Whitepaper',
                            file: 'training-system-whitepaper.md',
                            category: 'Core Documents',
                            description: 'Academic-style overview of the complete system',
                            order: 1
                        },
                        {
                            id: 'references',
                            title: 'Scientific References',
                            file: 'training-science-references.md',
                            category: 'Core Documents',
                            description: 'Organized research sources by topic',
                            order: 2
                        },
                        {
                            id: 'implementation',
                            title: 'Implementation Guide',
                            file: 'training-implementation-guide.md',
                            category: 'Core Documents',
                            description: 'Science-to-code mapping and technical details',
                            order: 3
                        },
                        {
                            id: 'calculations',
                            title: 'Calculations Reference',
                            file: 'training-calculations-reference.md',
                            category: 'Core Documents',
                            description: 'Developer-friendly formulas and algorithms',
                            order: 4
                        },
                        {
                            id: 'bibliography',
                            title: 'Complete Bibliography',
                            file: 'training-bibliography.md',
                            category: 'Core Documents',
                            description: 'Full list of 40+ sources and citations',
                            order: 5
                        }
                    ]
                },
                navigation: {
                    showCategories: true,
                    collapsible: true,
                    showDescription: true,
                    sortBy: 'order'
                },
                search: {
                    enabled: true,
                    placeholder: 'Search training science docs...',
                    searchInTags: true,
                    maxResults: 10
                },
                render: {
                    syntaxHighlighting: true,
                    highlightTheme: 'github',
                    copyCodeButton: true,
                    linkTarget: '_blank'
                },
                theme: {
                    name: 'training-science',
                    colors: {
                        primary: '#2563eb',
                        background: '#ffffff',
                        text: '#1f2937'
                    }
                },
                onError: function(error) {
                    console.error('Viewer error:', error);
                    document.getElementById('docs').innerHTML = 
                        '<div class="loading">Error loading documentation. Please try refreshing the page.</div>';
                }
            });
        });
    </script>
</body>
</html>