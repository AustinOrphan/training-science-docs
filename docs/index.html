<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Training Science Documentation</title>
    <style>
        body {
            margin: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }
        #docs {
            height: 100vh;
        }
    </style>
    
    <!-- Dependencies for UMD build -->
    <script src="https://cdn.jsdelivr.net/npm/marked@14.1.2/lib/marked.umd.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked-highlight@2.1.4/lib/index.umd.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/highlight.js@11.10.0/lib/highlight.min.js"></script>
</head>
<body>
    <div id="docs"></div>
    
    <script src="markdown-docs-viewer.umd.js"></script>
    <script>
        // Ensure hljs is available globally
        if (typeof hljs !== 'undefined') {
            window.hljs = hljs;
        }
        
        const { createViewer, defaultTheme, darkTheme } = window.MarkdownDocsViewer;

        // Configuration for the training science documentation
        const viewer = createViewer({
            container: '#docs',
            title: 'Training Science Documentation',
            source: {
                type: 'url',
                baseUrl: 'https://raw.githubusercontent.com/AustinOrphan/training-science-docs/main',
                documents: [
                    // Introduction
                    {
                        id: 'overview',
                        title: 'Project Overview',
                        file: 'README.md',
                        category: 'Introduction',
                        description: 'Project overview and usage instructions',
                        order: 1
                    },
                    {
                        id: 'disclaimer',
                        title: 'AI-Assisted Documentation Disclaimer',
                        file: 'ai-disclaimer.md',
                        category: 'Introduction',
                        description: 'Important information about AI assistance and validation',
                        order: 2
                    },
                    // Core Documents
                    {
                        id: 'whitepaper',
                        title: 'Training System Whitepaper',
                        file: 'training-system-whitepaper.md',
                        category: 'Core Documents',
                        description: 'Academic-style overview of the complete system',
                        order: 1
                    },
                    {
                        id: 'references',
                        title: 'Scientific References',
                        file: 'training-science-references.md',
                        category: 'Core Documents',
                        description: 'Organized research sources by topic',
                        order: 2
                    },
                    {
                        id: 'implementation',
                        title: 'Implementation Guide',
                        file: 'training-implementation-guide.md',
                        category: 'Core Documents',
                        description: 'Science-to-code mapping and technical details',
                        order: 3
                    },
                    {
                        id: 'calculations',
                        title: 'Calculations Reference',
                        file: 'training-calculations-reference.md',
                        category: 'Core Documents',
                        description: 'Developer-friendly formulas and algorithms',
                        order: 4
                    },
                    {
                        id: 'bibliography',
                        title: 'Complete Bibliography',
                        file: 'training-bibliography.md',
                        category: 'Core Documents',
                        description: 'Full list of 40+ sources and citations',
                        order: 5
                    },
                    // Planning & Implementation
                    {
                        id: 'impl-roadmap',
                        title: 'Implementation Roadmap',
                        file: 'planning/implementation-roadmap.md',
                        category: 'Planning & Implementation',
                        description: 'Development timeline and milestones',
                        order: 1
                    },
                    {
                        id: 'algorithm-guide',
                        title: 'Algorithm Update Guide',
                        file: 'planning/algorithm-update-guide.md',
                        category: 'Planning & Implementation',
                        description: 'Guidelines for updating training algorithms',
                        order: 2
                    },
                    {
                        id: 'api-specs',
                        title: 'API Specifications',
                        file: 'planning/api-specifications.md',
                        category: 'Planning & Implementation',
                        description: 'Detailed API documentation',
                        order: 3
                    },
                    {
                        id: 'migration',
                        title: 'Migration Checklist',
                        file: 'planning/migration-checklist.md',
                        category: 'Planning & Implementation',
                        description: 'Steps for system migration',
                        order: 4
                    },
                    // Research & Analysis
                    {
                        id: 'research-gaps',
                        title: 'Research Gaps Analysis',
                        file: 'planning/research-gaps-analysis.md',
                        category: 'Research & Analysis',
                        description: 'Identified gaps in current research',
                        order: 1
                    },
                    {
                        id: 'research-evolution',
                        title: 'Research Evolution Analysis',
                        file: 'planning/research-evolution-analysis.md',
                        category: 'Research & Analysis',
                        description: 'Evolution of training science research',
                        order: 2
                    },
                    {
                        id: 'population-guide',
                        title: 'Population-Specific Guide',
                        file: 'planning/population-specific-guide.md',
                        category: 'Research & Analysis',
                        description: 'Training adaptations for different populations',
                        order: 3
                    },
                    // Resources
                    {
                        id: 'research-resources',
                        title: 'Running Research Resources',
                        file: 'resources/running_research_resources.md',
                        category: 'Resources',
                        description: 'Comprehensive list of research resources',
                        order: 1
                    },
                    // Collaboration Templates
                    {
                        id: 'partnership-agreement',
                        title: 'Research Partnership Agreement',
                        file: 'collaboration-templates/research-partnership-agreement.md',
                        category: 'Collaboration Templates',
                        description: 'Template for research partnerships',
                        order: 1
                    },
                    {
                        id: 'data-sharing',
                        title: 'Data Sharing Agreement',
                        file: 'collaboration-templates/data-sharing-agreement.md',
                        category: 'Collaboration Templates',
                        description: 'Template for data sharing agreements',
                        order: 2
                    },
                    {
                        id: 'validation-protocol',
                        title: 'Validation Study Protocol',
                        file: 'collaboration-templates/validation-study-protocol.md',
                        category: 'Collaboration Templates',
                        description: 'Protocol for validation studies',
                        order: 3
                    },
                    {
                        id: 'ip-guidelines',
                        title: 'IP & Publication Guidelines',
                        file: 'collaboration-templates/ip-publication-guidelines.md',
                        category: 'Collaboration Templates',
                        description: 'Intellectual property and publication guidelines',
                        order: 4
                    },
                    {
                        id: 'qa-framework',
                        title: 'Quality Assurance Framework',
                        file: 'collaboration-templates/quality-assurance-framework.md',
                        category: 'Collaboration Templates',
                        description: 'QA framework for research quality',
                        order: 5
                    }
                ]
            },
            navigation: {
                showCategories: true,
                collapsible: true,
                showDescription: true,
                sortBy: 'order'
            },
            search: {
                enabled: true,
                placeholder: 'Search training science docs...',
                searchInTags: true,
                maxResults: 10
            },
            render: {
                syntaxHighlighting: true,
                highlightTheme: 'github',
                copyCodeButton: true,
                linkTarget: '_blank'
            },
            // Configure the built-in theme system
            theme: {
                name: 'default',
                switcherPosition: 'header',  // Shows theme switcher in header
                darkTogglePosition: 'header', // Shows dark mode toggle in header
                showPreview: true,           // Shows theme preview
                showDescription: false,      // Don't show theme descriptions
                allowCustomThemes: true,     // Allow custom theme creation
                enablePersistence: true,     // Remember theme choice
                storageKey: 'training-docs-theme'
            },
            // Mobile configuration (most defaults are good, but you can customize)
            responsive: true,  // Enable responsive design (default: true)
            mobile: {
                enabled: true,  // Enable mobile optimizations (default: true)
                navigation: {
                    swipeGestures: true,      // Swipe to open/close sidebar
                    collapseBehavior: 'overlay', // Sidebar overlays content on mobile
                    showBackdrop: true,       // Show dark backdrop when sidebar is open
                    closeOnOutsideClick: true // Click backdrop to close sidebar
                },
                gestures: {
                    swipeToNavigate: true,    // Enable swipe gestures
                    swipeThreshold: 50        // Pixels needed to trigger swipe
                },
                typography: {
                    // Font sizes automatically scale down on mobile
                    baseFontSize: {
                        xs: 14,  // Extra small screens
                        sm: 15,  // Small screens
                        md: 16   // Medium+ screens
                    }
                }
            }
        });
        
        // Create and register custom Training Science theme
        const trainingTheme = viewer.createCustomTheme('training-science', {
            colors: {
                primary: '#2563eb',
                secondary: '#3b82f6',
                textPrimary: '#1f2937',
                textSecondary: '#6b7280',
                textLight: '#9ca3af',
                text: '#374151',
                background: '#f8fafc',
                surface: '#ffffff',
                border: '#e2e8f0',
                code: '#7c3aed',
                codeBackground: '#f3f4f6',
                link: '#2563eb',
                linkHover: '#1d4ed8',
                error: '#ef4444',
                warning: '#f59e0b',
                success: '#10b981'
            },
            fonts: {
                body: '-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',
                heading: '-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',
                code: 'Consolas, Monaco, "Andale Mono", "Ubuntu Mono", monospace'
            },
            borderRadius: '0.375rem'
        });
        
        // Register and set the custom theme
        viewer.registerTheme(trainingTheme);
        viewer.setTheme('training-science');
    </script>
</body>
</html>