{"version":3,"file":"index.es.js","sources":["../src/themes.ts","../src/styles.ts","../src/navigation.ts","../src/search.ts","../src/loader.ts","../src/router.ts","../src/viewer.ts","../src/factory.ts"],"sourcesContent":["import { Theme } from './types';\n\nexport const defaultTheme: Theme = {\n  name: 'default',\n  colors: {\n    primary: '#3b82f6',\n    secondary: '#10b981',\n    background: '#ffffff',\n    surface: '#f3f4f6',\n    textPrimary: '#111827',\n    textSecondary: '#6b7280',\n    border: '#e5e7eb',\n    codeBackground: '#f3f4f6',\n    link: '#3b82f6',\n    linkHover: '#2563eb',\n    error: '#ef4444',\n    warning: '#f59e0b',\n    success: '#10b981'\n  },\n  fonts: {\n    body: '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, sans-serif',\n    heading: '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, sans-serif',\n    code: '\"Fira Code\", \"Consolas\", \"Monaco\", \"Andale Mono\", \"Ubuntu Mono\", monospace'\n  },\n  spacing: {\n    unit: 8,\n    containerMaxWidth: '1200px',\n    sidebarWidth: '320px'\n  },\n  borderRadius: '0.5rem'\n};\n\nexport const darkTheme: Theme = {\n  name: 'dark',\n  colors: {\n    primary: '#3b82f6',\n    secondary: '#10b981',\n    background: '#0f172a',\n    surface: '#1e293b',\n    textPrimary: '#f1f5f9',\n    textSecondary: '#94a3b8',\n    border: '#334155',\n    codeBackground: '#1a202c',\n    link: '#3b82f6',\n    linkHover: '#60a5fa',\n    error: '#ef4444',\n    warning: '#f59e0b',\n    success: '#10b981'\n  },\n  fonts: defaultTheme.fonts,\n  spacing: defaultTheme.spacing,\n  borderRadius: defaultTheme.borderRadius\n};\n\nexport function createCustomTheme(overrides: Partial<Theme>): Theme {\n  const baseTheme = overrides.name === 'dark' ? darkTheme : defaultTheme;\n  return {\n    ...baseTheme,\n    ...overrides,\n    colors: {\n      ...baseTheme.colors,\n      ...(overrides.colors || {})\n    },\n    fonts: {\n      ...baseTheme.fonts,\n      ...(overrides.fonts || {})\n    },\n    spacing: {\n      ...baseTheme.spacing,\n      ...(overrides.spacing || {})\n    }\n  };\n}","import { Theme, DocumentationConfig } from './types';\n\nexport function generateStyles(theme: Theme, config: DocumentationConfig): string {\n  const { colors, fonts, spacing, borderRadius } = theme;\n  const unit = spacing.unit;\n\n  return `\n    /* Base Styles */\n    .mdv-app {\n      font-family: ${fonts.body};\n      color: ${colors.textPrimary};\n      background-color: ${colors.background};\n      height: 100%;\n      display: flex;\n      flex-direction: column;\n      overflow: hidden;\n    }\n\n    .mdv-app * {\n      box-sizing: border-box;\n    }\n\n    /* Header */\n    .mdv-header {\n      background-color: ${colors.surface};\n      border-bottom: 1px solid ${colors.border};\n      padding: ${unit * 2}px ${unit * 3}px;\n      display: flex;\n      align-items: center;\n      gap: ${unit * 2}px;\n    }\n\n    .mdv-mobile-toggle {\n      display: none;\n      background: none;\n      border: none;\n      font-size: 1.5rem;\n      cursor: pointer;\n      color: ${colors.textPrimary};\n      padding: ${unit}px;\n    }\n\n    .mdv-logo {\n      height: 32px;\n      width: auto;\n    }\n\n    .mdv-title {\n      font-size: 1.5rem;\n      font-weight: 700;\n      color: ${colors.primary};\n      margin: 0;\n    }\n\n    /* Layout */\n    .mdv-layout {\n      display: flex;\n      flex: 1;\n      overflow: hidden;\n    }\n\n    /* Sidebar */\n    .mdv-sidebar {\n      width: ${spacing.sidebarWidth};\n      background-color: ${colors.surface};\n      border-right: 1px solid ${colors.border};\n      display: flex;\n      flex-direction: column;\n      overflow: hidden;\n      transition: transform 0.3s ease;\n    }\n\n    /* Search */\n    .mdv-search {\n      padding: ${unit * 2}px;\n      border-bottom: 1px solid ${colors.border};\n    }\n\n    .mdv-search-input {\n      width: 100%;\n      padding: ${unit * 1.5}px ${unit * 2}px;\n      background-color: ${colors.background};\n      border: 1px solid ${colors.border};\n      border-radius: ${borderRadius};\n      color: ${colors.textPrimary};\n      font-size: 0.875rem;\n      transition: border-color 0.2s;\n    }\n\n    .mdv-search-input:focus {\n      outline: none;\n      border-color: ${colors.primary};\n      box-shadow: 0 0 0 3px ${colors.primary}33;\n    }\n\n    /* Navigation */\n    .mdv-navigation {\n      flex: 1;\n      overflow-y: auto;\n      padding: ${unit}px 0;\n    }\n\n    .mdv-nav-list,\n    .mdv-nav-sublist {\n      list-style: none;\n      margin: 0;\n      padding: 0;\n    }\n\n    .mdv-nav-group {\n      margin-bottom: ${unit}px;\n    }\n\n    .mdv-nav-category {\n      padding: ${unit}px ${unit * 2}px;\n      font-weight: 600;\n      color: ${colors.textSecondary};\n      font-size: 0.875rem;\n      text-transform: uppercase;\n      letter-spacing: 0.05em;\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      cursor: pointer;\n    }\n\n    .mdv-nav-category.collapsible:hover {\n      color: ${colors.textPrimary};\n    }\n\n    .mdv-collapse-icon {\n      transition: transform 0.2s;\n    }\n\n    .mdv-nav-item {\n      margin: ${unit * 0.5}px ${unit}px;\n    }\n\n    .mdv-nav-link {\n      display: block;\n      padding: ${unit * 1.5}px ${unit * 2}px;\n      color: ${colors.textSecondary};\n      text-decoration: none;\n      border-radius: ${borderRadius};\n      transition: all 0.2s;\n    }\n\n    .mdv-nav-link:hover {\n      background-color: ${colors.background};\n      color: ${colors.textPrimary};\n      transform: translateX(4px);\n    }\n\n    .mdv-nav-link.active {\n      background-color: ${colors.primary};\n      color: white;\n    }\n\n    .mdv-nav-title {\n      font-weight: 500;\n      display: block;\n    }\n\n    .mdv-nav-description {\n      font-size: 0.75rem;\n      margin-top: ${unit * 0.5}px;\n      opacity: 0.8;\n    }\n\n    .mdv-nav-tags {\n      display: flex;\n      flex-wrap: wrap;\n      gap: ${unit * 0.5}px;\n      margin-top: ${unit * 0.5}px;\n    }\n\n    .mdv-tag {\n      font-size: 0.625rem;\n      padding: ${unit * 0.25}px ${unit * 0.75}px;\n      background-color: ${colors.primary}22;\n      color: ${colors.primary};\n      border-radius: ${borderRadius};\n    }\n\n    /* Content */\n    .mdv-content {\n      flex: 1;\n      overflow-y: auto;\n      background-color: ${colors.background};\n    }\n\n    .mdv-document {\n      max-width: ${spacing.containerMaxWidth};\n      margin: 0 auto;\n      padding: ${unit * 4}px;\n    }\n\n    .mdv-document-title {\n      font-size: 2.5rem;\n      font-weight: 700;\n      margin-bottom: ${unit * 4}px;\n      color: ${colors.textPrimary};\n      font-family: ${fonts.heading};\n    }\n\n    /* Markdown Content */\n    .mdv-document-content {\n      font-size: 1rem;\n      line-height: 1.7;\n      color: ${colors.textSecondary};\n    }\n\n    .mdv-document-content h1,\n    .mdv-document-content h2,\n    .mdv-document-content h3,\n    .mdv-document-content h4,\n    .mdv-document-content h5,\n    .mdv-document-content h6 {\n      font-family: ${fonts.heading};\n      font-weight: 600;\n      margin-top: ${unit * 3}px;\n      margin-bottom: ${unit * 2}px;\n      color: ${colors.textPrimary};\n    }\n\n    .mdv-document-content h1 { font-size: 2rem; }\n    .mdv-document-content h2 { font-size: 1.5rem; }\n    .mdv-document-content h3 { font-size: 1.25rem; }\n    .mdv-document-content h4 { font-size: 1.125rem; }\n\n    .mdv-document-content p {\n      margin-bottom: ${unit * 2}px;\n    }\n\n    .mdv-document-content a {\n      color: ${colors.link};\n      text-decoration: none;\n      transition: color 0.2s;\n    }\n\n    .mdv-document-content a:hover {\n      color: ${colors.linkHover};\n      text-decoration: underline;\n    }\n\n    .mdv-document-content ul,\n    .mdv-document-content ol {\n      margin-bottom: ${unit * 2}px;\n      padding-left: ${unit * 4}px;\n    }\n\n    .mdv-document-content li {\n      margin-bottom: ${unit}px;\n    }\n\n    .mdv-document-content code {\n      font-family: ${fonts.code};\n      font-size: 0.875em;\n      padding: ${unit * 0.25}px ${unit * 0.75}px;\n      background-color: ${colors.codeBackground};\n      border-radius: ${borderRadius};\n    }\n\n    .mdv-code-block {\n      position: relative;\n      margin-bottom: ${unit * 2}px;\n    }\n\n    .mdv-document-content pre {\n      background-color: ${colors.codeBackground};\n      padding: ${unit * 2}px;\n      border-radius: ${borderRadius};\n      overflow-x: auto;\n      margin: 0;\n    }\n\n    .mdv-document-content pre code {\n      background: none;\n      padding: 0;\n      font-size: 0.875rem;\n      line-height: 1.5;\n    }\n\n    .mdv-copy-button {\n      position: absolute;\n      top: ${unit}px;\n      right: ${unit}px;\n      padding: ${unit * 0.5}px ${unit * 1.5}px;\n      background-color: ${colors.primary};\n      color: white;\n      border: none;\n      border-radius: ${borderRadius};\n      font-size: 0.75rem;\n      cursor: pointer;\n      transition: all 0.2s;\n    }\n\n    .mdv-copy-button:hover {\n      background-color: ${colors.secondary};\n    }\n\n    .mdv-document-content blockquote {\n      border-left: 4px solid ${colors.primary};\n      padding-left: ${unit * 2}px;\n      margin: ${unit * 2}px 0;\n      color: ${colors.textSecondary};\n      font-style: italic;\n    }\n\n    .mdv-document-content table {\n      width: 100%;\n      border-collapse: collapse;\n      margin-bottom: ${unit * 2}px;\n    }\n\n    .mdv-document-content th,\n    .mdv-document-content td {\n      padding: ${unit * 1.5}px;\n      text-align: left;\n      border-bottom: 1px solid ${colors.border};\n    }\n\n    .mdv-document-content th {\n      background-color: ${colors.surface};\n      font-weight: 600;\n      color: ${colors.textPrimary};\n    }\n\n    .mdv-document-content hr {\n      border: none;\n      border-top: 1px solid ${colors.border};\n      margin: ${unit * 4}px 0;\n    }\n\n    /* States */\n    .mdv-loading,\n    .mdv-error,\n    .mdv-welcome {\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      height: 100%;\n      font-size: 1.125rem;\n      color: ${colors.textSecondary};\n    }\n\n    .mdv-error {\n      color: ${colors.error};\n    }\n\n    /* Footer */\n    .mdv-footer {\n      background-color: ${colors.surface};\n      border-top: 1px solid ${colors.border};\n      padding: ${unit * 2}px ${unit * 3}px;\n      text-align: center;\n      color: ${colors.textSecondary};\n      font-size: 0.875rem;\n    }\n\n    /* Responsive */\n    @media (max-width: 768px) {\n      .mdv-mobile-toggle {\n        display: block;\n      }\n\n      .mdv-sidebar {\n        position: fixed;\n        left: 0;\n        top: 0;\n        height: 100vh;\n        z-index: 1000;\n        transform: translateX(-100%);\n        box-shadow: 2px 0 10px rgba(0, 0, 0, 0.1);\n      }\n\n      .mdv-sidebar.open {\n        transform: translateX(0);\n      }\n\n      .mdv-document {\n        padding: ${unit * 2}px;\n      }\n\n      .mdv-document-title {\n        font-size: 2rem;\n      }\n    }\n\n    /* Scrollbar */\n    .mdv-navigation::-webkit-scrollbar,\n    .mdv-content::-webkit-scrollbar {\n      width: 8px;\n    }\n\n    .mdv-navigation::-webkit-scrollbar-track,\n    .mdv-content::-webkit-scrollbar-track {\n      background: ${colors.background};\n    }\n\n    .mdv-navigation::-webkit-scrollbar-thumb,\n    .mdv-content::-webkit-scrollbar-thumb {\n      background: ${colors.border};\n      border-radius: 4px;\n    }\n\n    .mdv-navigation::-webkit-scrollbar-thumb:hover,\n    .mdv-content::-webkit-scrollbar-thumb:hover {\n      background: ${colors.textSecondary};\n    }\n\n    /* Syntax highlighting overrides */\n    .hljs {\n      background: transparent !important;\n      color: ${colors.textPrimary} !important;\n    }\n\n    /* Custom CSS */\n    ${theme.customCSS || ''}\n  `;\n}","import { Document, NavigationOptions } from './types';\n\nexport function createNavigation(\n  documents: Document[],\n  currentDoc: Document | null,\n  options: NavigationOptions\n): string {\n  // Group documents by category if enabled\n  const grouped = options.showCategories \n    ? groupByCategory(documents)\n    : { 'All Documents': documents };\n\n  // Sort documents\n  const sortedGroups = Object.entries(grouped).map(([category, docs]) => ({\n    category,\n    documents: sortDocuments(docs, options.sortBy || 'order')\n  }));\n\n  return `\n    <ul class=\"mdv-nav-list\">\n      ${sortedGroups.map(group => renderGroup(group, currentDoc, options)).join('')}\n    </ul>\n  `;\n}\n\nfunction groupByCategory(documents: Document[]): Record<string, Document[]> {\n  return documents.reduce((acc, doc) => {\n    const category = doc.category || 'Uncategorized';\n    if (!acc[category]) {\n      acc[category] = [];\n    }\n    acc[category].push(doc);\n    return acc;\n  }, {} as Record<string, Document[]>);\n}\n\nfunction sortDocuments(documents: Document[], sortBy: string): Document[] {\n  return [...documents].sort((a, b) => {\n    switch (sortBy) {\n      case 'title':\n        return a.title.localeCompare(b.title);\n      case 'order':\n        return (a.order || 999) - (b.order || 999);\n      default:\n        return 0;\n    }\n  });\n}\n\nfunction renderGroup(\n  group: { category: string; documents: Document[] },\n  currentDoc: Document | null,\n  options: NavigationOptions\n): string {\n  const isCollapsible = options.collapsible && group.documents.length > 1;\n  \n  return `\n    <li class=\"mdv-nav-group\">\n      ${group.category !== 'All Documents' ? `\n        <div class=\"mdv-nav-category ${isCollapsible ? 'collapsible' : ''}\">\n          ${group.category}\n          ${isCollapsible ? '<span class=\"mdv-collapse-icon\">▼</span>' : ''}\n        </div>\n      ` : ''}\n      <ul class=\"mdv-nav-sublist\">\n        ${group.documents.map(doc => renderDocument(doc, currentDoc, options)).join('')}\n      </ul>\n    </li>\n  `;\n}\n\nfunction renderDocument(\n  doc: Document,\n  currentDoc: Document | null,\n  options: NavigationOptions\n): string {\n  const isActive = currentDoc?.id === doc.id;\n  const tags = options.showTags && doc.tags ? renderTags(doc.tags) : '';\n  const description = options.showDescription && doc.description \n    ? `<div class=\"mdv-nav-description\">${doc.description}</div>` \n    : '';\n\n  return `\n    <li class=\"mdv-nav-item\">\n      <a href=\"#${doc.id}\" \n         class=\"mdv-nav-link ${isActive ? 'active' : ''}\"\n         data-doc-id=\"${doc.id}\">\n        <span class=\"mdv-nav-title\">${doc.title}</span>\n        ${description}\n        ${tags}\n      </a>\n    </li>\n  `;\n}\n\nfunction renderTags(tags: string[]): string {\n  return `\n    <div class=\"mdv-nav-tags\">\n      ${tags.map(tag => `<span class=\"mdv-tag\">${tag}</span>`).join('')}\n    </div>\n  `;\n}","import { SearchOptions } from './types';\n\nexport function createSearch(options: SearchOptions): string {\n  return `\n    <div class=\"mdv-search\">\n      <input \n        type=\"text\" \n        class=\"mdv-search-input\" \n        placeholder=\"${options.placeholder || 'Search documentation...'}\"\n        aria-label=\"Search documentation\"\n      />\n      <div class=\"mdv-search-results\"></div>\n    </div>\n  `;\n}","import { Document, DocumentSource } from './types';\n\nexport class DocumentLoader {\n  private source: DocumentSource;\n  private cache: Map<string, string> = new Map();\n\n  constructor(source: DocumentSource) {\n    this.source = source;\n  }\n\n  async loadAll(): Promise<Document[]> {\n    return this.source.documents;\n  }\n\n  async loadDocument(doc: Document): Promise<string> {\n    // Check cache first\n    if (this.cache.has(doc.id)) {\n      return this.cache.get(doc.id)!;\n    }\n\n    let content = '';\n\n    if (doc.content) {\n      // Content provided directly\n      content = doc.content;\n    } else if (doc.file) {\n      // Load from file\n      content = await this.loadFromSource(doc.file);\n    }\n\n    this.cache.set(doc.id, content);\n    return content;\n  }\n\n  private async loadFromSource(path: string): Promise<string> {\n    switch (this.source.type) {\n      case 'local':\n        return this.loadLocal(path);\n      case 'url':\n        return this.loadFromUrl(path);\n      case 'github':\n        return this.loadFromGithub(path);\n      case 'content':\n        // Content should be provided in doc.content\n        return '';\n      default:\n        throw new Error(`Unknown source type: ${this.source.type}`);\n    }\n  }\n\n  private async loadLocal(path: string): Promise<string> {\n    // In a real implementation, this would use fs or a bundler\n    // For browser usage, files need to be bundled or served\n    const fullPath = this.source.basePath ? `${this.source.basePath}/${path}` : path;\n    \n    try {\n      const response = await fetch(fullPath);\n      if (!response.ok) {\n        throw new Error(`Failed to load ${path}: ${response.statusText}`);\n      }\n      return await response.text();\n    } catch (error) {\n      throw new Error(`Failed to load local file ${path}: ${error}`);\n    }\n  }\n\n  private async loadFromUrl(path: string): Promise<string> {\n    const url = this.source.baseUrl ? `${this.source.baseUrl}/${path}` : path;\n    \n    try {\n      const response = await fetch(url, {\n        headers: this.source.headers || {}\n      });\n      \n      if (!response.ok) {\n        throw new Error(`Failed to load ${url}: ${response.statusText}`);\n      }\n      \n      return await response.text();\n    } catch (error) {\n      throw new Error(`Failed to load from URL ${url}: ${error}`);\n    }\n  }\n\n  private async loadFromGithub(path: string): Promise<string> {\n    // Parse GitHub URL format: owner/repo/path\n    const parts = path.split('/');\n    if (parts.length < 3) {\n      throw new Error('Invalid GitHub path format. Expected: owner/repo/path/to/file');\n    }\n\n    const [owner, repo, ...filePath] = parts;\n    const apiUrl = `https://api.github.com/repos/${owner}/${repo}/contents/${filePath.join('/')}`;\n\n    try {\n      const response = await fetch(apiUrl, {\n        headers: {\n          'Accept': 'application/vnd.github.v3+json',\n          ...(this.source.headers || {})\n        }\n      });\n\n      if (!response.ok) {\n        throw new Error(`GitHub API error: ${response.statusText}`);\n      }\n\n      const data = await response.json();\n      \n      // Decode base64 content\n      if (data.content) {\n        return atob(data.content);\n      } else {\n        throw new Error('No content found in GitHub response');\n      }\n    } catch (error) {\n      throw new Error(`Failed to load from GitHub ${path}: ${error}`);\n    }\n  }\n\n  clearCache(): void {\n    this.cache.clear();\n  }\n}","export type RoutingMode = 'hash' | 'memory' | 'none';\n\nexport class Router {\n  private mode: RoutingMode;\n  private onRouteChange: (docId: string) => void;\n  private currentRoute: string = '';\n\n  constructor(mode: RoutingMode, onRouteChange: (docId: string) => void) {\n    this.mode = mode;\n    this.onRouteChange = onRouteChange;\n    \n    if (mode === 'hash') {\n      window.addEventListener('hashchange', this.handleHashChange.bind(this));\n      this.handleHashChange();\n    }\n  }\n\n  private handleHashChange(): void {\n    const hash = window.location.hash.slice(1);\n    if (hash && hash !== this.currentRoute) {\n      this.currentRoute = hash;\n      this.onRouteChange(hash);\n    }\n  }\n\n  setRoute(docId: string): void {\n    this.currentRoute = docId;\n    \n    if (this.mode === 'hash') {\n      window.location.hash = docId;\n    }\n  }\n\n  getCurrentRoute(): string | null {\n    if (this.mode === 'hash') {\n      return window.location.hash.slice(1) || null;\n    }\n    return this.currentRoute || null;\n  }\n\n  destroy(): void {\n    if (this.mode === 'hash') {\n      window.removeEventListener('hashchange', this.handleHashChange.bind(this));\n    }\n  }\n}","import { marked } from 'marked';\nimport { markedHighlight } from 'marked-highlight';\nimport hljs from 'highlight.js';\nimport { \n  DocumentationConfig, \n  Document, \n  ViewerState, \n  Theme,\n  DocumentSource \n} from './types';\nimport { defaultTheme } from './themes';\nimport { generateStyles } from './styles';\nimport { createNavigation } from './navigation';\nimport { createSearch } from './search';\nimport { DocumentLoader } from './loader';\nimport { Router } from './router';\n\nexport class MarkdownDocsViewer {\n  private config: DocumentationConfig;\n  private state: ViewerState;\n  private container: HTMLElement;\n  private loader: DocumentLoader;\n  private router: Router | null = null;\n  private styles: HTMLStyleElement | null = null;\n\n  constructor(config: DocumentationConfig) {\n    this.config = {\n      theme: defaultTheme,\n      search: { enabled: true },\n      navigation: { \n        showCategories: true, \n        showTags: false,\n        collapsible: true,\n        showDescription: true\n      },\n      render: {\n        syntaxHighlighting: true,\n        copyCodeButton: true,\n        linkTarget: '_self'\n      },\n      responsive: true,\n      routing: 'hash',\n      ...config\n    };\n\n    this.state = {\n      currentDocument: null,\n      documents: [],\n      searchQuery: '',\n      searchResults: [],\n      loading: false,\n      error: null,\n      sidebarOpen: false\n    };\n\n    this.container = typeof config.container === 'string' \n      ? document.querySelector(config.container)!\n      : config.container;\n\n    if (!this.container) {\n      throw new Error('Container element not found');\n    }\n\n    this.loader = new DocumentLoader(this.config.source);\n    this.init();\n  }\n\n  private async init(): Promise<void> {\n    try {\n      this.state.loading = true;\n      \n      // Configure marked\n      this.configureMarked();\n      \n      // Apply theme\n      this.applyTheme(this.config.theme!);\n      \n      // Load documents\n      await this.loadDocuments();\n      \n      // Setup routing\n      if (this.config.routing !== 'none') {\n        this.router = new Router(this.config.routing!, (docId) => {\n          this.loadDocument(docId);\n        });\n      }\n      \n      // Render UI\n      this.render();\n      \n      // Load initial document\n      const initialDoc = this.router?.getCurrentRoute() || this.state.documents[0]?.id;\n      if (initialDoc) {\n        await this.loadDocument(initialDoc);\n      }\n      \n      this.state.loading = false;\n    } catch (error) {\n      this.handleError(error as Error);\n    }\n  }\n\n  private configureMarked(): void {\n    if (this.config.render?.syntaxHighlighting) {\n      marked.use(markedHighlight({\n        langPrefix: 'hljs language-',\n        highlight(code, lang) {\n          const language = hljs.getLanguage(lang) ? lang : 'plaintext';\n          return hljs.highlight(code, { language }).value;\n        }\n      }));\n    }\n\n    marked.setOptions({\n      gfm: true,\n      breaks: true\n    });\n  }\n\n  private applyTheme(theme: Theme): void {\n    // Remove existing styles\n    if (this.styles) {\n      this.styles.remove();\n    }\n\n    // Generate and apply new styles\n    this.styles = document.createElement('style');\n    this.styles.textContent = generateStyles(theme, this.config);\n    document.head.appendChild(this.styles);\n  }\n\n  private async loadDocuments(): Promise<void> {\n    const documents = await this.loader.loadAll();\n    this.state.documents = documents;\n  }\n\n  private render(): void {\n    this.container.innerHTML = `\n      <div class=\"mdv-app\">\n        ${this.renderHeader()}\n        <div class=\"mdv-layout\">\n          ${this.renderSidebar()}\n          ${this.renderContent()}\n        </div>\n        ${this.config.footer ? this.renderFooter() : ''}\n      </div>\n    `;\n\n    this.attachEventListeners();\n  }\n\n  private renderHeader(): string {\n    return `\n      <header class=\"mdv-header\">\n        <button class=\"mdv-mobile-toggle\" aria-label=\"Toggle navigation\">☰</button>\n        ${this.config.logo ? `<img src=\"${this.config.logo}\" alt=\"Logo\" class=\"mdv-logo\">` : ''}\n        <h1 class=\"mdv-title\">${this.config.title || 'Documentation'}</h1>\n      </header>\n    `;\n  }\n\n  private renderSidebar(): string {\n    const navigation = createNavigation(\n      this.state.documents,\n      this.state.currentDocument,\n      this.config.navigation!\n    );\n\n    const search = this.config.search?.enabled \n      ? createSearch(this.config.search)\n      : '';\n\n    return `\n      <aside class=\"mdv-sidebar ${this.state.sidebarOpen ? 'open' : ''}\">\n        ${search}\n        <nav class=\"mdv-navigation\">\n          ${navigation}\n        </nav>\n      </aside>\n    `;\n  }\n\n  private renderContent(): string {\n    if (this.state.loading) {\n      return '<main class=\"mdv-content\"><div class=\"mdv-loading\">Loading...</div></main>';\n    }\n\n    if (this.state.error) {\n      return `<main class=\"mdv-content\"><div class=\"mdv-error\">${this.state.error.message}</div></main>`;\n    }\n\n    if (!this.state.currentDocument) {\n      return '<main class=\"mdv-content\"><div class=\"mdv-welcome\">Select a document to begin</div></main>';\n    }\n\n    return `\n      <main class=\"mdv-content\">\n        <article class=\"mdv-document\">\n          <h1 class=\"mdv-document-title\">${this.state.currentDocument.title}</h1>\n          <div class=\"mdv-document-content\">\n            ${this.renderMarkdown(this.state.currentDocument.content || '')}\n          </div>\n        </article>\n      </main>\n    `;\n  }\n\n  private renderFooter(): string {\n    return `<footer class=\"mdv-footer\">${this.config.footer}</footer>`;\n  }\n\n  private renderMarkdown(content: string): string {\n    let html = marked(content) as string;\n    \n    // Add copy buttons to code blocks if enabled\n    if (this.config.render?.copyCodeButton) {\n      html = html.replace(/<pre><code/g, '<div class=\"mdv-code-block\"><button class=\"mdv-copy-button\">Copy</button><pre><code');\n      html = html.replace(/<\\/code><\\/pre>/g, '</code></pre></div>');\n    }\n\n    // Apply link target\n    if (this.config.render?.linkTarget === '_blank') {\n      html = html.replace(/<a /g, '<a target=\"_blank\" rel=\"noopener noreferrer\" ');\n    }\n\n    return html;\n  }\n\n  private attachEventListeners(): void {\n    // Mobile toggle\n    const toggle = this.container.querySelector('.mdv-mobile-toggle');\n    toggle?.addEventListener('click', () => {\n      this.state.sidebarOpen = !this.state.sidebarOpen;\n      this.updateSidebar();\n    });\n\n    // Navigation links\n    this.container.querySelectorAll('.mdv-nav-link').forEach(link => {\n      link.addEventListener('click', (e) => {\n        e.preventDefault();\n        const docId = link.getAttribute('data-doc-id');\n        if (docId) {\n          this.loadDocument(docId);\n        }\n      });\n    });\n\n    // Search\n    const searchInput = this.container.querySelector('.mdv-search-input') as HTMLInputElement;\n    searchInput?.addEventListener('input', (e) => {\n      this.handleSearch((e.target as HTMLInputElement).value);\n    });\n\n    // Copy buttons\n    this.container.querySelectorAll('.mdv-copy-button').forEach(button => {\n      button.addEventListener('click', (e) => {\n        const codeBlock = (e.target as HTMLElement).nextElementSibling?.querySelector('code');\n        if (codeBlock) {\n          navigator.clipboard.writeText(codeBlock.textContent || '');\n          button.textContent = 'Copied!';\n          setTimeout(() => {\n            button.textContent = 'Copy';\n          }, 2000);\n        }\n      });\n    });\n  }\n\n  private updateSidebar(): void {\n    const sidebar = this.container.querySelector('.mdv-sidebar');\n    if (sidebar) {\n      sidebar.classList.toggle('open', this.state.sidebarOpen);\n    }\n  }\n\n  private async loadDocument(docId: string): Promise<void> {\n    try {\n      const doc = this.state.documents.find(d => d.id === docId);\n      if (!doc) {\n        throw new Error(`Document ${docId} not found`);\n      }\n\n      this.state.loading = true;\n      this.render();\n\n      // Load content if not already loaded\n      if (!doc.content && doc.file) {\n        doc.content = await this.loader.loadDocument(doc);\n      }\n\n      this.state.currentDocument = doc;\n      this.state.loading = false;\n      \n      if (this.router) {\n        this.router.setRoute(docId);\n      }\n\n      if (this.config.onDocumentLoad) {\n        this.config.onDocumentLoad(doc);\n      }\n\n      this.render();\n      \n      // Scroll to top\n      this.container.querySelector('.mdv-content')?.scrollTo(0, 0);\n      \n      // Close mobile sidebar\n      if (window.innerWidth <= 768) {\n        this.state.sidebarOpen = false;\n        this.updateSidebar();\n      }\n    } catch (error) {\n      this.handleError(error as Error);\n    }\n  }\n\n  private handleSearch(query: string): void {\n    this.state.searchQuery = query;\n    \n    if (!query.trim()) {\n      this.state.searchResults = [];\n      this.render();\n      return;\n    }\n\n    // Simple search implementation\n    const results = this.state.documents.filter(doc => {\n      const searchIn = [\n        doc.title,\n        doc.description || '',\n        doc.content || '',\n        ...(doc.tags || [])\n      ].join(' ').toLowerCase();\n      \n      return searchIn.includes(query.toLowerCase());\n    });\n\n    this.state.searchResults = results.slice(0, this.config.search?.maxResults || 10);\n    this.render();\n  }\n\n  private handleError(error: Error): void {\n    this.state.error = error;\n    this.state.loading = false;\n    \n    if (this.config.onError) {\n      this.config.onError(error);\n    }\n    \n    this.render();\n  }\n\n  public async refresh(): Promise<void> {\n    await this.loadDocuments();\n    this.render();\n  }\n\n  public setTheme(theme: Theme): void {\n    this.config.theme = theme;\n    this.applyTheme(theme);\n  }\n\n  public destroy(): void {\n    if (this.styles) {\n      this.styles.remove();\n    }\n    if (this.router) {\n      this.router.destroy();\n    }\n    this.container.innerHTML = '';\n  }\n}","import { MarkdownDocsViewer } from './viewer';\nimport { DocumentationConfig } from './types';\n\n/**\n * Factory function to create a new documentation viewer instance\n */\nexport function createViewer(config: DocumentationConfig): MarkdownDocsViewer {\n  return new MarkdownDocsViewer(config);\n}\n\n/**\n * Initialize viewer with minimal configuration\n */\nexport function quickStart(container: string | HTMLElement, documents: any[]): MarkdownDocsViewer {\n  return createViewer({\n    container,\n    source: {\n      type: 'content',\n      documents\n    }\n  });\n}"],"names":["defaultTheme","darkTheme","generateStyles","theme","config","colors","fonts","spacing","borderRadius","unit","createNavigation","documents","currentDoc","options","grouped","groupByCategory","category","docs","sortDocuments","group","renderGroup","acc","doc","sortBy","a","b","isCollapsible","renderDocument","isActive","tags","renderTags","description","tag","createSearch","DocumentLoader","source","content","path","fullPath","response","error","url","parts","owner","repo","filePath","apiUrl","data","Router","mode","onRouteChange","hash","docId","MarkdownDocsViewer","initialDoc","_a","_b","marked","markedHighlight","code","lang","language","hljs","navigation","search","html","toggle","link","e","searchInput","button","codeBlock","sidebar","d","query","results","createViewer"],"mappings":"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"}